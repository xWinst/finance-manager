{"version":3,"file":"static/js/720.59b1af48.chunk.js","mappings":"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","sources":["pages/Reports/Reports.jsx","webpack://finance-manager/./src/pages/index.module.css?5d56"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Chart, Icon } from 'components';\nimport { getStatistics } from 'redux/statisticsOperation';\nimport allCategories from 'database/categories';\nimport months from 'database/months';\nimport icons from 'images/icons.svg';\nimport s from '../index.module.css';\n// import { useWidth } from 'hooks/useWidth';\n\nconst monthKeys = Object.keys(months);\nconst formated = number => new Intl.NumberFormat('uk', { minimumFractionDigits: 2 }).format(number).replace(',', '.');\n\nconst Reports = () => {\n    const statistics = useSelector(state => state.statistics);\n    const balance = useSelector(state => state.user.userData.balance);\n\n    const [month, setMonth] = useState(new Date().getMonth());\n    const [typeBalance, setTypeBalance] = useState('expenses');\n    const [category, setCategory] = useState();\n\n    // const width = useWidth();\n    const dispatch = useDispatch();\n    const categories = allCategories[typeBalance];\n    const getName = key => categories[key].split(/,| /)[0].toLowerCase();\n    const currentStatistics = statistics[typeBalance].data || {};\n    const keyCurrent = Object.keys(currentStatistics);\n\n    useEffect(() => {\n        dispatch(getStatistics((month + 1).toString().padStart(2, '0')));\n    }, [dispatch, month]);\n\n    if (keyCurrent.length && !currentStatistics[category]) setCategory(keyCurrent[0]);\n\n    const changeMonth = step => {\n        setMonth((month + step + 12) % 12);\n    };\n\n    const changeTypeBalance = () => {\n        typeBalance === 'expenses' ? setTypeBalance('incomes') : setTypeBalance('expenses');\n    };\n\n    const selectCategory = key => {\n        setCategory(key);\n    };\n    // console.log('Statistics: ', statistics); ///////////////////\n    // console.log('currentStatistics: ', currentStatistics); ///////////////////\n    // console.log('category ', category);\n    // console.log('keyCurrent: ', keyCurrent);\n\n    return (\n        <div className={s.container}>\n            <Link className={s.goBack} to=\"/expenses\">\n                <Icon href={`${icons}#goBack`} width=\"24\" height=\"24\" />\n            </Link>\n            <p className={s.text}>Current period:</p>\n            <div className={s.period}>\n                <button className={s.button} type=\"button\" onClick={() => changeMonth(-1)}>\n                    <Icon href={`${icons}#arrowLeft`} width=\"7\" height=\"17\" />\n                </button>\n                <span className={s.month}>{months[monthKeys[month]]}</span>\n                <button className={s.button} type=\"button\" onClick={() => changeMonth(1)}>\n                    <Icon href={`${icons}#arrowRight`} width=\"7\" height=\"17\" />\n                </button>\n            </div>\n            <p className={s.topic}>Balance:</p>\n            <p className={s.balance}>{`${balance.toFixed(2)} UAH`}</p>\n            <div className={s.totalThumb}>\n                <div className={s.total}>\n                    <p>Expenses:</p>\n                    <p className={s.value} style={{ color: '#e7192e' }}>\n                        - {formated(statistics.expenses.total)} &#8372;\n                    </p>\n                </div>\n                <div className={s.total}>\n                    <p>Incomes:</p>\n                    <p className={s.value} style={{ color: '#407946' }}>\n                        + {formated(statistics.incomes.total)} &#8372;\n                    </p>\n                </div>\n            </div>\n            <div>\n                <button className={s.button} type=\"button\" onClick={changeTypeBalance}>\n                    <Icon href={`${icons}#arrowLeft`} width=\"7\" height=\"17\" />\n                </button>\n                <span className={s.item}>{typeBalance}</span>\n                <button className={s.button} type=\"button\" onClick={changeTypeBalance}>\n                    <Icon href={`${icons}#arrowRight`} width=\"7\" height=\"17\" />\n                </button>\n            </div>\n\n            {keyCurrent.length === 0 ? (\n                <p className={s.ad}>No {typeBalance} in this month</p>\n            ) : (\n                <ul className={s.categories}>\n                    {keyCurrent.map((key, index) => (\n                        <li\n                            className={key === category ? s.active : s.category}\n                            key={key}\n                            onClick={() => selectCategory(key)}\n                        >\n                            <p className={s.price}>{formated(currentStatistics[key].total)}</p>\n                            <Icon href={`${icons}#${getName(key)}`} width=\"56\" height=\"56\" />\n                            <p className={s.categoryName}>{categories[key]}</p>\n                        </li>\n                    ))}\n                </ul>\n            )}\n\n            <div className={s.chartsContainer}>\n                {keyCurrent.length > 0 && currentStatistics[category] && (\n                    <Chart chartData={currentStatistics[category]} />\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Reports;\n","// extracted by mini-css-extract-plugin\nexport default {\"hero\":\"pages_hero__XrlFj\",\"thumb\":\"pages_thumb__QV4Xe\",\"title\":\"pages_title__tBkMI\",\"sign\":\"pages_sign__pOIEt\",\"slogan\":\"pages_slogan__Ete+G\",\"container\":\"pages_container__xAkcw\",\"goBack\":\"pages_goBack__Oe2cb\",\"text\":\"pages_text__Iz+ye\",\"period\":\"pages_period__bgYjz\",\"button\":\"pages_button__eH5oD\",\"month\":\"pages_month__UqVR9\",\"topic\":\"pages_topic__Ha6v5\",\"balance\":\"pages_balance__OLZ3u\",\"totalThumb\":\"pages_totalThumb__2Tgs5\",\"total\":\"pages_total__PFn2r\",\"value\":\"pages_value__kRZ1Z\",\"item\":\"pages_item__wp6di pages_month__UqVR9\",\"ad\":\"pages_ad__GmB4U\",\"categories\":\"pages_categories__ozCEM\",\"category\":\"pages_category__2XWtL\",\"active\":\"pages_active__TCkGY pages_category__2XWtL\",\"price\":\"pages_price__G9ZBV\",\"categoryName\":\"pages_categoryName__A6P4c\",\"chartsContainer\":\"pages_chartsContainer__dOKZp\",\"balanceThumb\":\"pages_balanceThumb__gFCGB\",\"link\":\"pages_link__6ZQxm\",\"icon\":\"pages_icon__IqoND\"};"],"names":["monthKeys","Object","keys","months","formated","number","Intl","NumberFormat","minimumFractionDigits","format","replace","statistics","useSelector","state","balance","user","userData","useState","Date","getMonth","month","setMonth","typeBalance","setTypeBalance","category","setCategory","dispatch","useDispatch","categories","allCategories","getName","key","split","toLowerCase","currentStatistics","data","keyCurrent","useEffect","getStatistics","toString","padStart","length","changeMonth","step","changeTypeBalance","className","s","to","href","icons","width","height","type","onClick","toFixed","style","color","expenses","total","incomes","map","index","selectCategory","chartData"],"sourceRoot":""}