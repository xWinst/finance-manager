{"version":3,"file":"static/js/370.e77b223f.chunk.js","mappings":"6OAUMA,EAAYC,OAAOC,KAAKC,GACxBC,EAAW,SAAAC,GAAM,OAAI,IAAIC,KAAKC,aAAa,KAAM,CAAEC,sBAAuB,IAAKC,OAAOJ,GAAQK,QAAQ,IAAK,MAoHjH,UAlHgB,WACZ,IAAMC,GAAaC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMF,cACxCG,GAAUF,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAME,KAAKC,SAASF,WAEzD,GAA0BG,EAAAA,EAAAA,WAAS,IAAIC,MAAOC,YAA9C,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAsCJ,EAAAA,EAAAA,UAAS,YAA/C,eAAOK,EAAP,KAAoBC,EAApB,KACA,GAAgCN,EAAAA,EAAAA,YAAhC,eAAOO,EAAP,KAAiBC,EAAjB,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,EAAaC,EAAcP,GAE3BQ,EAAoBnB,EAAWW,GAAaS,MAAQ,GACpDC,EAAa/B,OAAOC,KAAK4B,GACzBG,EAAiBD,EAClBE,KAAI,SAAAC,GAAG,MAAK,CAAEX,SAAUW,EAAKC,MAAON,EAAkBK,OACtDE,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEH,MAAMI,MAAQF,EAAEF,MAAMI,UAE5CC,EAAAA,EAAAA,YAAU,WACNf,GAASgB,EAAAA,EAAAA,IAAetB,EAAQ,GAAGuB,WAAWC,SAAS,EAAG,SAC3D,CAAClB,EAAUN,IAEVY,EAAWa,SAAWf,EAAkBN,IAAWC,EAAYO,EAAW,IAE9E,IAAMc,EAAc,SAAAC,GAChB1B,GAAUD,EAAQ2B,EAAO,IAAM,KAG7BC,EAAoB,WACOzB,EAAb,aAAhBD,EAA4C,UAA4B,aAO5E,OACI,iBAAK2B,UAAWC,EAAAA,EAAAA,iBAAhB,WACI,4BACI,SAAC,KAAD,CAAMD,UAAWC,EAAAA,EAAAA,OAAUC,GAAG,YAA9B,UACI,SAAC,KAAD,CAAMC,KAAI,UAAKC,EAAAA,EAAL,WAAqBC,MAAM,KAAKC,OAAO,UAErD,iBAAMN,UAAWC,EAAAA,EAAAA,SAAjB,2BAEJ,iBAAKD,UAAWC,EAAAA,EAAAA,OAAhB,WACI,4BACI,cAAGD,UAAWC,EAAAA,EAAAA,KAAd,8BACA,iBAAKD,UAAWC,EAAAA,EAAAA,OAAhB,WACI,mBAAQD,UAAWC,EAAAA,EAAAA,OAAUM,KAAK,SAASC,QAAS,kBAAMX,GAAa,IAAvE,UACI,SAAC,KAAD,CAAMM,KAAI,UAAKC,EAAAA,EAAL,cAAwBC,MAAM,IAAIC,OAAO,UAEvD,iBAAMN,UAAWC,EAAAA,EAAAA,MAAjB,SAA2B/C,EAAOH,EAAUoB,OAC5C,mBAAQ6B,UAAWC,EAAAA,EAAAA,OAAUM,KAAK,SAASC,QAAS,kBAAMX,EAAY,IAAtE,UACI,SAAC,KAAD,CAAMM,KAAI,UAAKC,EAAAA,EAAL,eAAyBC,MAAM,IAAIC,OAAO,gBAIhE,iBAAKN,UAAWC,EAAAA,EAAAA,iBAAhB,WACI,cAAGD,UAAWC,EAAAA,EAAAA,MAAd,uBACA,cAAGD,UAAWC,EAAAA,EAAAA,QAAd,mBAA6BpC,EAAQ4C,QAAQ,GAA7C,iBAGR,iBAAKT,UAAWC,EAAAA,EAAAA,WAAhB,WACI,iBAAKD,UAAWC,EAAAA,EAAAA,MAAhB,WACI,sCACA,eAAGD,UAAWC,EAAAA,EAAAA,MAASS,MAAO,CAAEC,MAAO,WAAvC,eACOxD,EAASO,EAAWkD,SAASrB,OADpC,iBAIJ,iBAAKS,UAAWC,EAAAA,EAAAA,MAAhB,WACI,qCACA,eAAGD,UAAWC,EAAAA,EAAAA,MAASS,MAAO,CAAEC,MAAO,WAAvC,eACOxD,EAASO,EAAWmD,QAAQtB,OADnC,oBAKR,iBAAKS,UAAWC,EAAAA,EAAAA,eAAhB,WACI,iBAAKD,UAAWC,EAAAA,EAAAA,qBAAhB,WACI,mBAAQD,UAAWC,EAAAA,EAAAA,OAAUM,KAAK,SAASC,QAAST,EAApD,UACI,SAAC,KAAD,CAAMI,KAAI,UAAKC,EAAAA,EAAL,cAAwBC,MAAM,IAAIC,OAAO,UAEvD,iBAAMN,UAAWC,EAAAA,EAAAA,KAAjB,SAA0B5B,KAC1B,mBAAQ2B,UAAWC,EAAAA,EAAAA,OAAUM,KAAK,SAASC,QAAST,EAApD,UACI,SAAC,KAAD,CAAMI,KAAI,UAAKC,EAAAA,EAAL,eAAyBC,MAAM,IAAIC,OAAO,YAIrC,IAAtBvB,EAAWa,QACR,eAAGI,UAAWC,EAAAA,EAAAA,GAAd,gBAAwB5B,EAAxB,qBAEA,eAAI2B,UAAWC,EAAAA,EAAAA,WAAf,SACKjB,EAAeC,KAAI,SAAC6B,EAAMC,GAAP,OAChB,gBACIf,UAAWc,EAAKvC,WAAaA,EAAW0B,EAAAA,EAAAA,OAAWA,EAAAA,EAAAA,SAEnDO,QAAS,kBA/DdtB,EA+DmC4B,EAAKvC,cA9D3DC,EAAYU,GADO,IAAAA,GA4DC,WAKI,cAAGc,UAAWC,EAAAA,EAAAA,MAAd,SAAwB9C,EAAS2D,EAAK3B,MAAMI,UAC5C,SAAC,KAAD,CAAMY,KAAI,UAAKC,EAAAA,EAAL,aAvFtBlB,EAuF4C4B,EAAKvC,SAvF1CI,EAAWO,GAAK8B,MAAM,OAAO,GAAGC,gBAuFuBZ,MAAM,KAAKC,OAAO,QACpE,cAAGN,UAAWC,EAAAA,EAAAA,aAAd,SAA+BtB,EAAWmC,EAAKvC,cAL1CuC,EAAKvC,UAnFtB,IAAAW,WA+FR,gBAAKc,UAAWC,EAAAA,EAAAA,gBAAhB,SACKlB,EAAWa,OAAS,GAAKf,EAAkBN,KACxC,SAAC,KAAD,CAAO2C,UAAWrC,EAAkBN,Y,mBCvHxD,KAAgB,KAAO,oBAAoB,MAAQ,qBAAqB,MAAQ,qBAAqB,KAAO,oBAAoB,OAAS,sBAAsB,UAAY,yBAAyB,iBAAmB,gCAAgC,OAAS,sBAAsB,SAAW,wBAAwB,KAAO,oBAAoB,OAAS,sBAAsB,OAAS,sBAAsB,MAAQ,qBAAqB,MAAQ,qBAAqB,QAAU,uBAAuB,WAAa,0BAA0B,MAAQ,qBAAqB,MAAQ,qBAAqB,qBAAuB,oCAAoC,KAAO,uCAAuC,GAAK,kBAAkB,WAAa,0BAA0B,SAAW,wBAAwB,OAAS,4CAA4C,MAAQ,qBAAqB,aAAe,4BAA4B,gBAAkB,+BAA+B,aAAe,4BAA4B,KAAO,oBAAoB,KAAO,oBAAoB,OAAS,sBAAsB,iBAAmB,gCAAgC,eAAiB","sources":["pages/Reports/Reports.jsx","webpack://finance-manager/./src/pages/index.module.css?5d56"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Chart, Icon } from 'components';\nimport { getStatistics } from 'redux/statisticsOperation';\nimport allCategories from 'database/categories';\nimport months from 'database/months';\nimport icons from 'images/icons.svg';\nimport s from '../index.module.css';\n\nconst monthKeys = Object.keys(months);\nconst formated = number => new Intl.NumberFormat('uk', { minimumFractionDigits: 2 }).format(number).replace(',', '.');\n\nconst Reports = () => {\n    const statistics = useSelector(state => state.statistics);\n    const balance = useSelector(state => state.user.userData.balance);\n\n    const [month, setMonth] = useState(new Date().getMonth());\n    const [typeBalance, setTypeBalance] = useState('expenses');\n    const [category, setCategory] = useState();\n\n    const dispatch = useDispatch();\n    const categories = allCategories[typeBalance];\n    const getName = key => categories[key].split(/,| /)[0].toLowerCase();\n    const currentStatistics = statistics[typeBalance].data || {};\n    const keyCurrent = Object.keys(currentStatistics);\n    const sortedCategory = keyCurrent\n        .map(key => ({ category: key, value: currentStatistics[key] }))\n        .sort((a, b) => b.value.total - a.value.total);\n\n    useEffect(() => {\n        dispatch(getStatistics((month + 1).toString().padStart(2, '0')));\n    }, [dispatch, month]);\n\n    if (keyCurrent.length && !currentStatistics[category]) setCategory(keyCurrent[0]);\n\n    const changeMonth = step => {\n        setMonth((month + step + 12) % 12);\n    };\n\n    const changeTypeBalance = () => {\n        typeBalance === 'expenses' ? setTypeBalance('incomes') : setTypeBalance('expenses');\n    };\n\n    const selectCategory = key => {\n        setCategory(key);\n    };\n\n    return (\n        <div className={s.reportsContainer}>\n            <div>\n                <Link className={s.goBack} to=\"/expenses\">\n                    <Icon href={`${icons}#goBack`} width=\"24\" height=\"24\" />\n                </Link>\n                <span className={s.linkText}>Main page</span>\n            </div>\n            <div className={s.header}>\n                <div>\n                    <p className={s.text}>Current period:</p>\n                    <div className={s.period}>\n                        <button className={s.button} type=\"button\" onClick={() => changeMonth(-1)}>\n                            <Icon href={`${icons}#arrowLeft`} width=\"7\" height=\"17\" />\n                        </button>\n                        <span className={s.month}>{months[monthKeys[month]]}</span>\n                        <button className={s.button} type=\"button\" onClick={() => changeMonth(1)}>\n                            <Icon href={`${icons}#arrowRight`} width=\"7\" height=\"17\" />\n                        </button>\n                    </div>\n                </div>\n                <div className={s.balanceContainer}>\n                    <p className={s.topic}>Balance:</p>\n                    <p className={s.balance}>{`${balance.toFixed(2)} UAH`}</p>\n                </div>\n            </div>\n            <div className={s.totalThumb}>\n                <div className={s.total}>\n                    <p>Expenses:</p>\n                    <p className={s.value} style={{ color: '#e7192e' }}>\n                        - {formated(statistics.expenses.total)} &#8372;\n                    </p>\n                </div>\n                <div className={s.total}>\n                    <p>Incomes:</p>\n                    <p className={s.value} style={{ color: '#407946' }}>\n                        + {formated(statistics.incomes.total)} &#8372;\n                    </p>\n                </div>\n            </div>\n            <div className={s.iconsContainer}>\n                <div className={s.typeBalanceContainer}>\n                    <button className={s.button} type=\"button\" onClick={changeTypeBalance}>\n                        <Icon href={`${icons}#arrowLeft`} width=\"7\" height=\"17\" />\n                    </button>\n                    <span className={s.item}>{typeBalance}</span>\n                    <button className={s.button} type=\"button\" onClick={changeTypeBalance}>\n                        <Icon href={`${icons}#arrowRight`} width=\"7\" height=\"17\" />\n                    </button>\n                </div>\n\n                {keyCurrent.length === 0 ? (\n                    <p className={s.ad}>No {typeBalance} in this month</p>\n                ) : (\n                    <ul className={s.categories}>\n                        {sortedCategory.map((item, index) => (\n                            <li\n                                className={item.category === category ? s.active : s.category}\n                                key={item.category}\n                                onClick={() => selectCategory(item.category)}\n                            >\n                                <p className={s.price}>{formated(item.value.total)}</p>\n                                <Icon href={`${icons}#${getName(item.category)}`} width=\"56\" height=\"56\" />\n                                <p className={s.categoryName}>{categories[item.category]}</p>\n                            </li>\n                        ))}\n                    </ul>\n                )}\n            </div>\n\n            <div className={s.chartsContainer}>\n                {keyCurrent.length > 0 && currentStatistics[category] && (\n                    <Chart chartData={currentStatistics[category]} />\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Reports;\n","// extracted by mini-css-extract-plugin\nexport default {\"hero\":\"pages_hero__XrlFj\",\"thumb\":\"pages_thumb__QV4Xe\",\"title\":\"pages_title__tBkMI\",\"sign\":\"pages_sign__pOIEt\",\"slogan\":\"pages_slogan__Ete+G\",\"container\":\"pages_container__xAkcw\",\"reportsContainer\":\"pages_reportsContainer__eqH0a\",\"goBack\":\"pages_goBack__Oe2cb\",\"linkText\":\"pages_linkText__TZxSy\",\"text\":\"pages_text__Iz+ye\",\"period\":\"pages_period__bgYjz\",\"button\":\"pages_button__eH5oD\",\"month\":\"pages_month__UqVR9\",\"topic\":\"pages_topic__Ha6v5\",\"balance\":\"pages_balance__OLZ3u\",\"totalThumb\":\"pages_totalThumb__2Tgs5\",\"total\":\"pages_total__PFn2r\",\"value\":\"pages_value__kRZ1Z\",\"typeBalanceContainer\":\"pages_typeBalanceContainer__UQy7i\",\"item\":\"pages_item__wp6di pages_month__UqVR9\",\"ad\":\"pages_ad__GmB4U\",\"categories\":\"pages_categories__ozCEM\",\"category\":\"pages_category__2XWtL\",\"active\":\"pages_active__TCkGY pages_category__2XWtL\",\"price\":\"pages_price__G9ZBV\",\"categoryName\":\"pages_categoryName__A6P4c\",\"chartsContainer\":\"pages_chartsContainer__dOKZp\",\"balanceThumb\":\"pages_balanceThumb__gFCGB\",\"link\":\"pages_link__6ZQxm\",\"icon\":\"pages_icon__IqoND\",\"header\":\"pages_header__wGYoS\",\"balanceContainer\":\"pages_balanceContainer__7uZxa\",\"iconsContainer\":\"pages_iconsContainer__vxkUO\"};"],"names":["monthKeys","Object","keys","months","formated","number","Intl","NumberFormat","minimumFractionDigits","format","replace","statistics","useSelector","state","balance","user","userData","useState","Date","getMonth","month","setMonth","typeBalance","setTypeBalance","category","setCategory","dispatch","useDispatch","categories","allCategories","currentStatistics","data","keyCurrent","sortedCategory","map","key","value","sort","a","b","total","useEffect","getStatistics","toString","padStart","length","changeMonth","step","changeTypeBalance","className","s","to","href","icons","width","height","type","onClick","toFixed","style","color","expenses","incomes","item","index","split","toLowerCase","chartData"],"sourceRoot":""}