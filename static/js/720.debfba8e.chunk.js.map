{"version":3,"file":"static/js/720.debfba8e.chunk.js","mappings":"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","sources":["pages/Reports/Reports.jsx","webpack://finance-manager/./src/pages/index.module.css?5d56"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'components';\nimport { getStatistics } from 'redux/statisticsOperation';\nimport allCategories from 'database/categories';\nimport months from 'database/months';\nimport icons from 'images/icons.svg';\nimport s from '../index.module.css';\n\nconst rusMonth = Object.keys(months);\n\n// const formated = number => number?.toFixed(2).toLocaleString('ru-RU').replace(',', '.');\nconst formated = number => new Intl.NumberFormat('uk', { minimumFractionDigits: 2 }).format(number).replace(',', '.');\n\nconst Reports = () => {\n    const statistics = useSelector(state => state.statistics);\n    const balance = useSelector(state => state.user.userData.balance);\n    const [month, setMonth] = useState(new Date().getMonth());\n    const [typeBalance, setTypeBalance] = useState('expenses');\n\n    const dispatch = useDispatch();\n    const categories = allCategories[typeBalance];\n    const getName = key => categories[key].split(/,| /)[0].toLowerCase();\n\n    let currentStatistics = statistics[typeBalance].data || {};\n    console.log('currentStatistics: ', currentStatistics); ///////////////////\n\n    let keyCurrent = Object.keys(currentStatistics);\n\n    const [category, setCategory] = useState(keyCurrent[0]);\n\n    useEffect(() => {\n        dispatch(getStatistics((month + 1).toString().padStart(2, '0')));\n    }, [dispatch, month]);\n\n    useEffect(() => {\n        console.log('RENDER'); //////////////\n    });\n\n    const getPreviousMonth = () => {\n        month === 0 ? setMonth(11) : setMonth(state => state - 1);\n    };\n\n    const getNextMonth = () => {\n        month === 11 ? setMonth(0) : setMonth(state => state + 1);\n    };\n\n    const changeTypeBalance = () => {\n        if (typeBalance === 'expenses') {\n            setTypeBalance('incomes');\n            currentStatistics = statistics.incomes.data;\n        } else {\n            setTypeBalance('expenses');\n            currentStatistics = statistics.expenses.data;\n        }\n        keyCurrent = Object.keys(currentStatistics);\n        setCategory(keyCurrent[0]);\n    };\n\n    const selectCategory = key => {\n        setCategory(key);\n    };\n\n    return (\n        <div className={s.container}>\n            <Link className={s.goBack} to=\"/expenses\">\n                <Icon href={`${icons}#goBack`} width=\"24\" height=\"24\" />\n            </Link>\n            <p className={s.text}>Current period:</p>\n            <div className={s.period}>\n                <button className={s.button} type=\"button\" onClick={getPreviousMonth}>\n                    <Icon href={`${icons}#arrowLeft`} width=\"7\" height=\"17\" />\n                </button>\n                <span className={s.month}>{months[rusMonth[month]]}</span>\n                <button className={s.button} type=\"button\" onClick={getNextMonth}>\n                    <Icon href={`${icons}#arrowRight`} width=\"7\" height=\"17\" />\n                </button>\n            </div>\n            <p className={s.topic}>Balance:</p>\n            <p className={s.balance}>{`${balance.toFixed(2)} UAH`}</p>\n            <div className={s.totalThumb}>\n                <div className={s.total}>\n                    <p>Expenses:</p>\n                    <p className={s.value} style={{ color: '#e7192e' }}>\n                        - {formated(statistics.expenses.total)} &#8372;\n                    </p>\n                </div>\n                <div className={s.total}>\n                    <p>Incomes:</p>\n                    <p className={s.value} style={{ color: '#407946' }}>\n                        + {formated(statistics.incomes.total)} &#8372;\n                    </p>\n                </div>\n            </div>\n            <div>\n                <button className={s.button} type=\"button\" onClick={changeTypeBalance}>\n                    <Icon href={`${icons}#arrowLeft`} width=\"7\" height=\"17\" />\n                </button>\n                <span className={s.item}>{typeBalance}</span>\n                <button className={s.button} type=\"button\" onClick={changeTypeBalance}>\n                    <Icon href={`${icons}#arrowRight`} width=\"7\" height=\"17\" />\n                </button>\n            </div>\n            <ul className={s.categories}>\n                {keyCurrent.map((key, index) => (\n                    <li\n                        className={key === category ? s.active : s.category}\n                        key={key}\n                        onClick={() => selectCategory(key)}\n                    >\n                        <p className={s.price}>{formated(currentStatistics[key].total)}</p>\n                        <Icon href={`${icons}#${getName(key)}`} width=\"56\" height=\"56\" />\n                        <p className={s.categoryName}>{categories[key]}</p>\n                    </li>\n                ))}\n            </ul>\n\n            <div>{statistics.toString()}</div>\n        </div>\n    );\n};\n\nexport default Reports;\n","// extracted by mini-css-extract-plugin\nexport default {\"hero\":\"pages_hero__XrlFj\",\"thumb\":\"pages_thumb__QV4Xe\",\"title\":\"pages_title__tBkMI\",\"sign\":\"pages_sign__pOIEt\",\"slogan\":\"pages_slogan__Ete+G\",\"container\":\"pages_container__xAkcw\",\"goBack\":\"pages_goBack__Oe2cb\",\"text\":\"pages_text__Iz+ye\",\"period\":\"pages_period__bgYjz\",\"button\":\"pages_button__eH5oD\",\"month\":\"pages_month__UqVR9\",\"topic\":\"pages_topic__Ha6v5\",\"balance\":\"pages_balance__OLZ3u\",\"totalThumb\":\"pages_totalThumb__2Tgs5\",\"total\":\"pages_total__PFn2r\",\"value\":\"pages_value__kRZ1Z\",\"item\":\"pages_item__wp6di pages_month__UqVR9\",\"categories\":\"pages_categories__ozCEM\",\"category\":\"pages_category__2XWtL\",\"active\":\"pages_active__TCkGY pages_category__2XWtL\",\"price\":\"pages_price__G9ZBV\",\"categoryName\":\"pages_categoryName__A6P4c\"};"],"names":["rusMonth","Object","keys","months","formated","number","Intl","NumberFormat","minimumFractionDigits","format","replace","statistics","useSelector","state","balance","user","userData","useState","Date","getMonth","month","setMonth","typeBalance","setTypeBalance","dispatch","useDispatch","categories","allCategories","getName","key","split","toLowerCase","currentStatistics","data","console","log","keyCurrent","category","setCategory","useEffect","getStatistics","toString","padStart","changeTypeBalance","incomes","expenses","className","s","to","href","icons","width","height","type","onClick","toFixed","style","color","total","map","index","selectCategory"],"sourceRoot":""}